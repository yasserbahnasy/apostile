@model internationalApostille.Models.BlogPost

@{
    ViewBag.Title = "Edit Blog Post";
    Layout = "~/Views/Shared/Admin/_layout.cshtml";
}


<!-- begin:: Subheader -->
<div class="kt-subheader   kt-grid__item" id="kt_subheader">
    <div class="kt-container ">
        <div class="kt-subheader__main">
            <h3 class="kt-subheader__title">
                Edit Blog Post
            </h3>
            <div class="kt-subheader__breadcrumbs">
                <a href="#" class="kt-subheader__breadcrumbs-home"><i class="flaticon2-shelter"></i></a>
                <span class="kt-subheader__breadcrumbs-separator"></span>
                <a href="" class="kt-subheader__breadcrumbs-link">
                    Admin
                </a>
                <span class="kt-subheader__breadcrumbs-separator"></span>
                <a href="" class="kt-subheader__breadcrumbs-link">
                    Blogs
                </a>
                <span class="kt-subheader__breadcrumbs-separator"></span>
                <a href="" class="kt-subheader__breadcrumbs-link">
                    Edit Blog Post
                </a>
            </div>
        </div>
    </div>
</div>
<!-- end:: Subheader -->


@using (Html.BeginForm("EditBlogPost", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    @Html.HiddenFor(model => model.id)
    @Html.HiddenFor(model => model.FeaturedImage)
    <!-- begin:: Content -->
    <div class="kt-container kt-grid__item kt-grid__item--fluid">
        <div class="row">
            <div class="col-md-8">
                <!--begin::Portlet-->
                <div class="kt-portlet">
                    <!--begin::Form-->
                    <div class="kt-portlet__body">
                        <div class="form-group">
                            <label>Title</label>

                            @Html.EditorFor(model => model.title, new { htmlAttributes = new { @class = "form-control", @id = "kt_maxlength_4" } })

                        </div>

                        
                        @Html.HiddenFor(model => model.Description)
                        <div class="form-group">
                            <label>Meta Description</label>
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.DescriptionMeta, new { htmlAttributes = new { @class = "form-control", @id = "kt_maxlength_4" } })
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Meta Keywords</label>
                            @Html.EditorFor(model => model.Keywords, new { htmlAttributes = new { @class = "form-control", @id = "Keywords" } })

                        </div>

                        <div class="form-group">
                            <label>Tags</label>
                            @Html.EditorFor(model => model.tags, new { htmlAttributes = new { @class = "form-control" } })

                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <div class="summernote" id="kt_summernote_1"></div>
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <!--end::Portlet-->
            </div>
            <div class="col-md-4">
                <!--begin::Portlet-->
                <div class="kt-portlet">
                    <div class="kt-portlet__head">
                        <div class="kt-portlet__head-label">
                            <h3 class="kt-portlet__head-title">
                                Publish
                            </h3>
                        </div>
                    </div>
                    <!--begin::Form-->
                    <div class="kt-portlet__body">
                        <div class="form-group row align-items-lg-center">
                            <h6 class="col-lg-4 mb-0">
                                <i class="flaticon-calendar-with-a-clock-time-tools mr-2"></i>
                                <span> Published on : </span>
                            </h6>
                            <div class="input-group date col-lg-8">
                                @Html.EditorFor(model => model.PublishedDate, new { htmlAttributes = new { @class = "form-control", @id = "PublishedDate" } })

                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <i class="la la-calendar glyphicon-th"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row align-items-lg-center">
                            <h6 class="col-lg-4 mb-0">
                                <i class="flaticon-eye mr-2"></i>
                                <span> Visibility : </span>
                            </h6>
                            <div class="col-lg-8">
                                <select class="form-control kt-selectpicker" name="Visibility" required>
                                    @{
                                        if (Model.Visibility == "Public")
                                        {
                                            <option selected>Public</option>
                                            <option>only Users</option>
                                        }
                                        else
                                        {
                                            <option>Public</option>
                                            <option selected>only Users</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                        <div class="form-group row align-items-lg-center">
                            <h6 class="col-lg-4 mb-0">
                                <i class="fa fa-link mr-2"></i>
                                <span> Permalink : </span>
                            </h6>
                            <div class="col-lg-8">
                                @Html.EditorFor(model => model.url, new { htmlAttributes = new { @class = "form-control", @id = "permaLink" } })
                                <p class="text-muted small">
                                    <span>https://apostille.com/blog/</span>
                                    <span id="url" class="text-primary">@Model.url</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="kt-portlet__foot">
                        <div class="kt-form__actions d-flex flex-sm-wrap justify-content-between">
                            <input type="submit" id="SubmitBlogPost" value="Edit" class="btn btn-brand" />
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <!--end::Portlet-->
                <!--begin::Portlet-->
                <div class="kt-portlet">
                    <div class="kt-portlet__head">
                        <div class="kt-portlet__head-label">
                            <h3 class="kt-portlet__head-title">
                                Featured image
                            </h3>
                        </div>
                    </div>
                    <!--begin::Form-->
                    <div class="kt-portlet__body">
                        <input type="file" name="UploadImage" id="UploadImage" accept="image/*" />
                    </div>
                    <!--end::Form-->
                </div>
                <!--end::Portlet-->
                <!--begin::Portlet-->
                <div class="kt-portlet">
                    <div class="kt-portlet__head">
                        <div class="kt-portlet__head-label">
                            <h3 class="kt-portlet__head-title">
                                Categories
                            </h3>
                        </div>
                    </div>
                    <!--begin::Form-->
                    <div class="kt-portlet__body">
                        <div class="form-group">
                            <lable class="mb-3 d-block">All Categories</lable>
                            <div class="row">
                                @Html.DropDownList("CategoryID", null, htmlAttributes: new { @class = "form-control kt-selectpicker" })

                            </div>
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <!--end::Portlet-->
            </div>
        </div>
    </div>
    <!-- end:: Content -->


}

@section scripts{
    <script src="~/Assets/admin/js/demo4/pages/crud/forms/widgets/summernote.js"></script>
    <script src="~/Assets/admin/js/demo4/pages/crud/forms/widgets/bootstrap-datetimepicker.js"></script>
    <script src="~/Assets/admin/js/demo4/pages/crud/forms/widgets/bootstrap-select.js"></script>
    <script src="~/Assets/admin/js/demo4/pages/crud/forms/widgets/select2.js"></script>
    <script src="~/Assets/admin/js/demo4/pages/crud/forms/widgets/bootstrap-maxlength.js"></script>
    <script src="~/Assets/admin/js/demo4/pages/crud/forms/widgets/dropzone.js"></script>
    <script src="~/Assets/admin/js/demo4/pages/crud/forms/widgets/tagify.js"></script>
    <script>
        $(function () {
            
            $('#createBlogpost').closest('.kt-menu__item--rel').addClass('kt-menu__item--here');
            $('#createBlogpost').closest('.kt-menu__item').addClass('kt-menu__item--here');
            console.clear();
            
            
                
            $('#permaLink').keyup(function (e) {
                $('#url').text($(this).val())

            }).keypress(function (e) {
                if (e.which === 32) {
                    return false;
                }
                })
            $('.summernote').summernote('code', $("#Description").val());
            $(".summernote").on("summernote.change", function (e) {   // callback as jquery custom event
                $("#Description").val($('.summernote').summernote('code'));
            });
        })
        

        
        
    </script>
}
